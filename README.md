Address Verification via Smarty Streets for Spree
=================================================

Will use the Smarty Streets address verification service to verify an address
is deliverable and normalize the address. Automatically decorates the Address
model so that all address are automatically updated.

Since Smarty Streets only supports US addresses the validation only happens
if the country is the United States.

Installation
------------

Add spree_smarty_streets_address_verification to your Gemfile:

```ruby
gem 'spree_smarty_streets_address_verification'
```

Bundle your dependencies:

```shell
bundle
```

## SmartyStreets API key
You'll need a SmartyStreets API token to use the service.  [Dev accounts are free](https://smartystreets.com/account/create).  Once you get your ID and token set them as environment variables for this extension to pick up:
* SMARTY_STREETS_AUTH_ID
* SMARTY_STREETS_AUTH_TOKEN

Testing
-------

1. Create a .env file with the environement variables for your test account.
2. Bundle your dependencies
3. Run `rake`. `rake` will default to building the dummy app if it does
   not exist, then it will run specs. The dummy app can be regenerated by
   using `rake test_app`.

```shell
bundle
bundle exec rake
```

Todo
----

This is a minimal plugin for the purposes of a specific project. There are many
ways this plugin could be enhanced but are not currently to keep in scope. The
following ideas are for the ambitious:

* Smarty Streets offers various options on how strict to validate.
* I currently validate and normalize. I could just validate.
* I could possibly prompt the user to accept the normalization I am making.
* I could put a hook on the Address object to allow the application (or another
  extension) to determine when address verification should be used.

Copyright (c) 2014 RailsDog, released under the New BSD License
